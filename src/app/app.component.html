<div class="container-fluid">

<!-- What's New dialog component -->
<app-whats-new-dialog *ngIf="showWhatsNew" (closed)="dismissWhatsNew()"></app-whats-new-dialog>
  <div class="row">
    <div class="col-12 col-md-3 col-lg-2 p-0">
      <!-- Sidebar: controlled by open/close state -->
      <app-sidebar [open]="sidebarOpen" (close)="closeSidebar()"></app-sidebar>
    </div>
    <div class="col p-0">
      <div class="d-flex justify-content-between align-items-center p-2">
        <!-- Hamburger for mobile -->
        <button class="btn btn-outline-secondary btn-sm d-md-none me-2" (click)="openSidebar()" aria-label="Open menu">
          <i class="bi bi-list"></i>
        </button>
        <div class="flex-grow-1"></div>
        <button class="btn btn-outline-secondary btn-sm" (click)="toggleTheme()" [attr.aria-label]="theme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode'">
          <i class="bi" [ngClass]="theme === 'dark' ? 'bi-sun' : 'bi-moon'" aria-hidden="true"></i>
          {{ theme === 'dark' ? 'Light' : 'Dark' }} Mode
        </button>
      </div>
      <main class="p-3">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>
